<!DOCTYPE html>
<html>
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
        <!-- Bootstrap JavaScript plugin and dependency -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
        <!-- eigene CSS Datei / falls nötig
        <link rel="stylesheet" href="style.css"> -->
        <title>HA1</title>
    </head>

    <body>
        <!-- Bootstrap layout mit container-fluid -->
        <div id="container" class="container-fluid">
            <!-- Zeile mit der Navigation bar-->
            <div class="row" id="nav">
                <div class="col">
                    <!-- navbar-expand-sm: navbar collapses when width<576px -->
                    <nav class="navbar navbar-expand-sm navbar-dark bg-primary">
                    <a class="navbar-brand active" href="/template.html">Home</a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNav">
                    <!-- '#' in href mit Link zur anderen Seite ersetzen-->
                        <ul class="navbar-nav">
                          <li class="nav-item">
                            <a class="nav-link" href="#">Ubersicht</a>
                          </li>
                          <li class="nav-item">
                            <a class="nav-link" href="anlegen.html">New TODO</a>
                          </li>
                          <li class="nav-item">
                            <a class="nav-link active" href="edit.html">Editieren</a>
                          </li>
                          <li class="nav-item">
                            <a class="nav-link" href="#">Impressum</a>
                          </li>
                        </ul>
                      </div>
                  </nav>
                </div>
            </div>
            <div class="row">
                <div class="col col-sm-5 "><h1>TODO editieren</h1></div>
                <div class="col col-sm-7 align-self-center"><h3>So können Sie ein TODO editieren.</h3></div>                      
            </div>  
            <div class="row">
                <p>Um ein TODO zu editieren, gehen Sie zur Übersichtstabelle und clicken Sie auf "edit". Clicken Sie auf das Element, das Sie editieren wollen.
                  Die Änderungen werden gespeichert, wenn Sie auf "OK" clicken.
                </p>
                <!-- Beispieltabelle -->
                <table class="table">
                  <thead>
                    <tr>
                      <th scope="col">#</th>
                      <th scope="col">TODO</th>
                      <th scope="col">Deadline</th>
                      <th scope="col">Prozent</th>
                    </tr>
                  </thead>
                  <tbody id="tableBody">
                    <tr>
                      <th scope="row">1</th>
                      <td class="todoEdit">Edit TODO</td>
                      <td class="todoEdit">05/05/2021</td>
                      <td class="todoEdit">10%</td>
                      <td><button type="button" id="btnEdit" class="btn btn-secondary" onclick="clicked()">Edit</button></td>
                      <td><button type="button" class="btn btn-delete btn-danger">Delete</button></td>
                    </tr>
                  </tbody>
                </table>
            </div>
        </div>         
        <script>
          

          var click = true;
          let edit = false;
          var areas = document.getElementsByClassName("todoEdit");
          var noForm = document.getElementById("container").innerHTML;
          var container = document.getElementById("container");
          function clicked(){
            if(click){
              document.getElementById("btnEdit").setAttribute("class", "btn btn-success");
              document.getElementById("btnEdit").innerText = "OK"
              for (var i=0;i<areas.length;i++){
                var area = areas[i];
                area.setAttribute("contenteditable", "true");
              }
              
              click=false;
            } else {
              document.getElementById("btnEdit").setAttribute("class", "btn btn-secondary");
              document.getElementById("btnEdit").innerHTML = "Edit";
              click=true;
              for (var i=0;i<areas.length;i++){
                var area = areas[i];
                area.setAttribute("contenteditable", "false");
              }
            }
          }
        </script> 
    </body>
    
</html>